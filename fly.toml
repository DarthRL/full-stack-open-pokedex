# fly.toml app configuration file generated for lively-resonance-1025 on 2023-08-22T22:37:01-02:30
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = "lively-resonance-1025"
primary_region = "yul"

[deploy]
  release_command = "npm run build"

[processes]
  app = "node app.js"

[build]
[build.args]
  NODE_VERSION = "16.19.1"

[env]
  PORT = "8080" # add this

[[services]]
  http_checks = []
  internal_port = 8080
  processes = ["app"]

[[services.tcp_checks]]
  grace_period = "1s"
  interval = "15s"
  restart_limit = 0
  timeout = "2s"

[[services.ports]]
  handlers = ["http"]
  port = 80
  force_https = true

[[services.ports]]
  handlers = ["tls", "http"]
  port = "443"
